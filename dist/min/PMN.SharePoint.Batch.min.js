var PMN;!function(t){var e;!function(t){var e;!function(t){t[t.GET="GET"]="GET",t[t.POST="POST"]="POST"}(e=t.Verb||(t.Verb={}));var n=function(){function t(t,e,n){this._tipo=e,this._url=t,this._callBack=n}return t.MakeElement=function(e,n,o){return new t(e,n,o)},Object.defineProperty(t.prototype,"Tipo",{get:function(){return this._tipo},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Url",{get:function(){return this._url},enumerable:!0,configurable:!0}),t.prototype.CallFunction=function(t){"function"==typeof this._callBack&&this._callBack.call(this,t)},t}(),o=function(){function t(){this.UrlRequests=[]}return t.prototype.NewGuid=function(){function t(){return(65536*(1+Math.random())|0).toString(16).substring(1)}var e=(t()+t()+"-"+t()+"-4"+t().substr(0,3)+"-"+t()+"-"+t()+t()+t()).toLowerCase();return e},t.prototype.GetBatchBody=function(t){for(var e=[],n=0;n<this.UrlRequests.length;n++)e.push("--"+t),e.push("Content-Type: application/http"),e.push("Content-Transfer-Encoding: binary"),e.push(""),e.push(this.UrlRequests[n].Tipo.toString()+" "+this.UrlRequests[n].Url+" HTTP/1.1"),e.push("Accept: application/json;odata=verbose"),e.push("");e.push("--"+t+"--");var o=e.join("\n");return o},t.prototype.MakeRequests=function(){var t=_spPageContextInfo.webAbsoluteUrl+"/_api/$batch",n="batch_"+this.NewGuid(),o=this,r=this.GetBatchBody(n),s=document.getElementById("__REQUESTDIGEST").value,i=new XMLHttpRequest;i.open(e.POST.toString(),t,!0),i.setRequestHeader("X-RequestDigest",s),i.setRequestHeader("Content-Type","multipart/mixed; boundary="+n),i.setRequestHeader("Accept","application/json;odata=verbose"),i.send(r),i.onreadystatechange=function(){if(i.readyState==i.DONE&&200===i.status)for(var t=i.responseText.split("--batchresponse"),e=1;e<t.length;e++){var n=t[e].split("\n")[7];if(void 0!==n){var r=JSON.parse(n),s=o.UrlRequests[e-1];s.CallFunction(r)}}},i.addEventListener("error",function(t){console.log(t)})},t.prototype.AddRequest=function(t,e,o){this.UrlRequests.push(n.MakeElement(t,e,o))},t.prototype.ShowRequests=function(){for(var t=this.UrlRequests.length,e=0;e<t;e++)console.log(this.UrlRequests[e].Tipo.toString()+": "+this.UrlRequests[e].Url)},t}();t.Batch=o}(e=t.SharePoint||(t.SharePoint={}))}(PMN||(PMN={}));var b=new PMN.SharePoint.Batch;b.AddRequest(_spPageContextInfo.webAbsoluteUrl+"/_api/web/lists?$select=title",PMN.SharePoint.Verb.GET,function(t){t.d}),b.AddRequest(_spPageContextInfo.webAbsoluteUrl+"/_api/web/AllProperties",PMN.SharePoint.Verb.GET,function(t){t.d}),b.MakeRequests();